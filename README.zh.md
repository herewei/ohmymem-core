# OhMyMem

**â€œä½ çš„è®°å¿†ï¼Œç”±ä½ æŒæ§ã€‚â€** **OhMyMem** æ˜¯ä¸€æ¬¾å‘½ä»¤è¡Œå·¥å…·åŠè½»é‡çº§[MCP](https://modelcontextprotocol.io)æœåŠ¡å™¨ï¼Œä¸º AI ç¼–ç¨‹åŠ©æ‰‹æä¾›**åŸç”Ÿ Gitæ”¯æŒ**çš„è®°å¿†å­˜å‚¨ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸º AI æ—¶ä»£æ„å»ºä¸€ä¸ªé€šç”¨ä¸”è·¨å¹³å°çš„ç‹¬ç«‹è®°å¿†å±‚ã€‚æˆ‘ä»¬åšä¿¡ï¼Œä½ çš„é•¿æœŸè®°å¿†ä¸åº”è¢«é”åœ¨ä»»ä½•å•ä¸€å¹³å°ä¹‹ä¸­ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ§  **æŒä¹…åŒ–è®°å¿†** - Git-Native -- å°†é¡¹ç›®ä¸Šä¸‹æ–‡å­˜å‚¨åœ¨ `.ohmymem/memory.md` ä¸­,ä½¿ä½ å’Œä½ çš„å›¢é˜Ÿè½»æ¾å…±äº«è®°å¿†
- ğŸ” **æ™ºèƒ½é¡¹ç›®æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹é¡¹ç›®è¯­è¨€å¹¶åº”ç”¨ç›¸å…³æ¨¡æ¿
- ğŸ“ **ç»“æ„åŒ–åˆ†ç±»** - å°†è®°å¿†æ•´ç†ä¸ºä»¥ä¸‹ç±»åˆ«ï¼š
  - `constraints` - æŠ€æœ¯çº¦æŸå’Œè§„åˆ™
  - `decisions` - æ¶æ„å’Œè®¾è®¡å†³ç­–
  - `patterns` - ä»£ç æ¨¡å¼å’Œè§„èŒƒ
  - `anti-patterns` - éœ€è¦é¿å…çš„åšæ³•
  - `note` - ä¸€èˆ¬ç¬”è®°ï¼ˆå…œåº•/é»˜è®¤åˆ†ç±»ï¼‰
- ğŸ”„ **MCP åè®®** - ä¸ Claude Desktop åŠå…¶ä»– MCP å®¢æˆ·ç«¯é›†æˆ
- ğŸ“¦ **æ¨¡æ¿ç³»ç»Ÿ** - ä» GitHub/Gitee è·å–ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ¨¡æ¿

---

## ğŸ“¦ å®‰è£…

### ä»æºç æ„å»º

```bash
git clone https://github.com/herewei/ohmymem-core.git
cd ohmymem-core
go build -o ohmymem .
```

### æˆ–ä½¿ç”¨ Makefile

```bash
# macOS
make build-darwin

# Linux
make build-linux
```

### è®¾ç½®åˆ«åå’Œ PATH

å°†äºŒè¿›åˆ¶æ–‡ä»¶æ·»åŠ åˆ° shell çš„ PATH ä¸­ä»¥å®ç°å…¨å±€è®¿é—®ï¼š

**Bash (~/.bashrc) or Zsh (~/.zshrc):**

```bash
# OhMyMem
alias ohmymem='/path/to/ohmymem-core/ohmymem'
export PATH="/path/to/ohmymem-core:$PATH"
```

ç„¶åé‡æ–°åŠ è½½ shell é…ç½®ï¼š

```bash
source ~/.bashrc  # æˆ– source ~/.zshrc
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åœ¨é¡¹ç›®ç›®å½•åˆå§‹åŒ–

```bash
cd /path/to/your/project
ohmymem init
```

è¿™å°†åˆ›å»ºï¼š

- `.ohmymem/memory.md` - è®°å¿†å­˜å‚¨æ–‡ä»¶
- `AGENTS.md` - AI æ™ºèƒ½ä½“æŒ‡å¯¼æ–‡æ¡£
- `.cursorrules` â†’ æŒ‡å‘ `AGENTS.md` çš„ç¬¦å·é“¾æ¥
- `CLAUDE.md` â†’ æŒ‡å‘ `AGENTS.md` çš„ç¬¦å·é“¾æ¥

**é€‰é¡¹ï¼š**

```bash
ohmymem init --yes        # è·³è¿‡äº¤äº’å¼æç¤º
ohmymem init --force      # è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶
ohmymem init --repo URL   # ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿ä»“åº“
```

### 2. é…ç½® MCP å®¢æˆ·ç«¯

#### Claude Desktop

ç¼–è¾‘ `~/Library/Application Support/Claude/claude_desktop_config.json`ï¼š

```json
{
  "mcpServers": {
    "ohmymem": {
      "command": "/absolute/path/to/ohmymem",
      "args": ["mcp"],
      "cwd": "/path/to/your/project"
    }
  }
}
```

#### å…¶ä»– MCP å®¢æˆ·ç«¯

å°†å®¢æˆ·ç«¯é…ç½®ä¸ºè¿è¡Œï¼š

```bash
ohmymem mcp
```

---

## ğŸ› ï¸ MCP å·¥å…·

è¿æ¥åï¼ŒAI æ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š

### `ohmymem_read`

è¯»å–å®Œæ•´çš„è®°å¿†æ–‡ä»¶ã€‚

```json
{
  "name": "ohmymem_read",
  "description": "è¯»å–å·¥ä½œè®°å¿†æ–‡ä»¶ (.ohmymem/memory.md)"
}
```

### `ohmymem_capture`

å‘è®°å¿†ä¸­æ·»åŠ æ–°æ¡ç›®ã€‚

```json
{
  "name": "ohmymem_capture",
  "description": "å‘å·¥ä½œè®°å¿†æ•è·æ–°æ¡ç›®",
  "parameters": {
    "category": {
      "type": "string",
      "enum": ["constraints", "decisions", "patterns", "anti-patterns", "note"],
      "description": "æ¡ç›®åˆ†ç±»ã€‚å¦‚æœªæŒ‡å®šåˆ™é»˜è®¤ä¸º 'note'ã€‚"
    },
    "tag": {
      "type": "string",
      "required": true,
      "description": "æ¡ç›®æ ‡ç­¾ï¼ˆæœ€å¤š 50 å­—ç¬¦ï¼Œè‡ªåŠ¨æ·»åŠ æ–¹æ‹¬å·ï¼‰"
    },
    "content": {
      "type": "string",
      "required": true,
      "description": "è¦è®°å¿†çš„å†…å®¹ï¼ˆæœ€å¤š 2000 å­—ç¬¦ï¼‰"
    },
    "rationale": {
      "type": "string",
      "description": "å¯é€‰çš„ç†ç”±/è¯´æ˜ï¼ˆæœ€å¤š 500 å­—ç¬¦ï¼‰"
    }
  }
}
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
your-project/
â”œâ”€â”€ .ohmymem/
â”‚   â”œâ”€â”€ memory.md       # è®°å¿†å­˜å‚¨æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç®¡ç†ï¼‰
â”‚   â””â”€â”€ ohmymem.log     # è°ƒè¯•æ—¥å¿—
â”œâ”€â”€ AGENTS.md           # AI æŒ‡å¯¼æ–‡æ¡£
â”œâ”€â”€ .cursorrules        # â†’ æŒ‡å‘ AGENTS.md çš„ç¬¦å·é“¾æ¥
â””â”€â”€ CLAUDE.md           # â†’ æŒ‡å‘ AGENTS.md çš„ç¬¦å·é“¾æ¥
```

### è®°å¿†æ–‡ä»¶æ ¼å¼

```markdown
### Constraints

<!-- entry-id: 018e... , tag: [API], time: 2026-01-... -->
* **[API]** æ‰€æœ‰ç«¯ç‚¹ä½¿ç”¨ RESTful è§„èŒƒ
<!-- entry-end -->

### Decisions

<!-- entry-id: 018e... , tag: [DB], time: 2026-01-... -->
* **[DB]** ä½¿ç”¨ PostgreSQL ä½œä¸ºä¸»æ•°æ®åº“ (*ç†ç”±: ACID ä¸€è‡´æ€§*)
<!-- entry-end -->

### Note

<!-- entry-id: 018e... , tag: [TODO], time: 2026-01-... -->
* **[TODO]** ä¸‹å‘¨è¯„å®¡è®¤è¯æ¨¡å—
<!-- entry-end -->
```

---

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ |
|------|------|
| `OHMYMEM_DEBUG` | å¯ç”¨è°ƒè¯•æ—¥å¿—ï¼ˆ`true`/`false`ï¼‰ |

### æ¨¡æ¿ä»“åº“

é»˜è®¤æ¨¡æ¿ä»ä»¥ä¸‹åœ°å€è·å–ï¼š

- GitHub: `https://github.com/herewei/ohmymem-templates.git`
- Gitee: `https://gitee.com/herewei/ohmymem-templates.git`

ä½¿ç”¨è‡ªå®šä¹‰ä»“åº“ï¼š

```bash
ohmymem init --repo https://github.com/your/templates.git
```

---

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           MCP å®¢æˆ·ç«¯                     â”‚
â”‚     (Claude Desktop / Cursor / ...)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ stdio
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         OhMyMem MCP æœåŠ¡å™¨               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å·¥å…·: read / capture           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      é¢†åŸŸå±‚ (MemoryService)              â”‚
â”‚  - æ ¡éªŒã€æ¨¡æ¿æ¸²æŸ“                        â”‚
â”‚  - æ¡ç›®å‡†å¤‡                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åŸºç¡€è®¾æ–½å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ–‡ä»¶å­˜å‚¨     â”‚  â”‚ Git ä»“åº“è·å–     â”‚   â”‚
â”‚  â”‚ (flock)     â”‚  â”‚ (Templates)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª å¼€å‘

```bash
# è¿è¡Œæµ‹è¯•
go test ./...

# è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
go test -v ./tests/e2e/...

# æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶
go build -o ohmymem .

# ç›´æ¥è¿è¡Œ
go run .
```

---

## ğŸ“„ è®¸å¯è¯

Apache 2.0 è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

---

## ğŸ™ è‡´è°¢

- [MCP Protocol](https://modelcontextprotocol.io) - Model Context Protocol
- [mcp-go](https://github.com/mark3labs/mcp-go) - MCP çš„ Go SDK
- [Cobra](https://github.com/spf13/cobra) - CLI æ¡†æ¶
